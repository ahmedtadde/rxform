!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n=n||self).RxForm=e()}(this,function(){"use strict";var n;!function(n){n.FOCUS="focus",n.INPUT="input",n.CHANGE="change",n.BLUR="blur",n.SUBMIT="submit"}(n||(n={}));var e=function(n){throw n instanceof Error?n:new Error(JSON.stringify(n))},t=function(n){return!function(n){return Boolean(n)}(n)},r=function(n){return"string"==typeof n||n instanceof String},o=function(n){return r(n)&&Boolean(function(n,o){if(t(r(n))&&e("Invalid argument value; value must be a string"),void 0!==o&&["left","right","both"].includes(o))switch(o){case"left":return n.trimLeft();case"right":default:return n.trimRight()}return n.trim()}(n))};function i(n,t){var r=o(n)?n:"";return t instanceof Element?t.querySelector(r)||e("Invalid query selector"):document.querySelector(r)||e("Invalid query selector")}var u=function(n){var r=function(n){t(function(n){return n instanceof HTMLFormElement}(n))&&e("Invalid form target value")};if(n instanceof HTMLFormElement)return n;if(n instanceof Element)return r(n),n;if(o(n)){var u=i(n);return r(u),u}};function f(n,r,o){return o.forEach(function(o){var u=o.type,f=o.registerAs,c=o.options,s=function(n,r,o,u){var f=n instanceof Element?n:i(n);return t(f instanceof Element)&&e("Invalid target param... resolved to non DOM element"),f.addEventListener(r,o,u||{}),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return f.removeEventListener(r,o,u||{})}}(r,u,function(e){return n.emit(f,e)},void 0===c?{}:c);n.on("form@remove-dom-listeners",s)}),n}var c=function(e,t){return f(e,t,[{type:n.FOCUS,registerAs:"form@focus"},{type:n.INPUT,registerAs:"form@input"},{type:n.CHANGE,registerAs:"form@change"},{type:n.BLUR,registerAs:"form@blur",options:!0},{type:n.SUBMIT,registerAs:"form@submit"}])};function s(n){return n=n||Object.create(null),{on:function(e,t){(n[e]||(n[e]=[])).push(t)},off:function(e,t){n[e]&&n[e].splice(n[e].indexOf(t)>>>0,1)},emit:function(e,t){(n[e]||[]).slice().map(function(n){n(t)}),(n["*"]||[]).slice().map(function(n){n(e,t)})}}}var a=console.info,l=console.warn,m={error:console.error,info:a,warning:l};return function(n){(function(n){var e=new s;return[c].forEach(function(t){return t(e,n)}),e})(u(n.target)).on("*",m.info)}});
//# sourceMappingURL=rxform.umd.js.map
